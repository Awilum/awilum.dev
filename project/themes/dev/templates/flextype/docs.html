{% extends "themes/" ~ flextype.registry.get('plugins.site.settings.theme') ~ "/templates/partials/base.html" %}

{% block content %}
{% include 'themes/' ~ flextype.registry.get('plugins.site.settings.theme') ~ '/templates/flextype/partials/nav.html' %}


{% set txt = flextype.entries.fetch('/docs') %}
<div class="container mx-auto pb-24 px-4 lg:px-0">
    <div class="uppercase text-center mt-24 mb-24">
        <div>
            <h1 class="text-3xl lg:text-6xl mb-0"><a class="no-underline" href="{{ url() }}/{{ entry.id }}">{{ entry.title }}</a></h1>
        </div>
        {% if entry.breadcrumbs %}
        <div class="opacity-50">
            <a class="no-underline" href="{{ url() }}/flextype/documentation">Documentation</a> <span>/</span>
            {% for item in entry.breadcrumbs %}
                <a class="no-underline" href="{{ item.link|shortcode }}">{{ item.title }}</a> {% if loop.last == false %}<span>/</span>{% endif %}
            {% endfor %}
        </div>
        {% endif %}
    </div>
    <div class="flex flex-col-reverse lg:flex-row relative">
        <div class="w-full lg:w-3/12">
            <h4 class="mt-0 pt-0">Getting Started</h4>
            <ul class="m-0 p-0 list-none">
                <li class="{% if entry.id == locale %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/getting-started/what-is-flextype" class="no-underline">What is Flextype?</a>
                </li>
                <li class="{% if entry.id == "/getting-started/requirements" %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/getting-started/requirements" class="no-underline">Requirements</a>
                </li>
                <li class="{% if entry.id == "/getting-started/installation" %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/getting-started/installation" class="no-underline">Installation</a>
                </li>
                <li class="{% if entry.id == "/getting-started/configuration" %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/getting-started/configuration" class="no-underline">Configuration</a>
                </li>
                <li class="{% if entry.id == "/getting-started/folder-structure" %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/getting-started/folder-structure" class="no-underline">Folder Structure</a>
                </li>
                <li class="{% if entry.id == "/getting-started/api" %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/getting-started/api" class="no-underline">API Reference</a>
                </li>
                <li class="{% if entry.id == "/getting-started/coc" %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/getting-started/coc" class="no-underline">Code of Conduct</a>
                </li>
                <li class="{% if entry.id == "/getting-started/getting-help" %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/getting-started/getting-help" class="no-underline">Getting Help</a>
                </li>
                <li class="{% if entry.id == "/getting-started/license" %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/getting-started/license" class="no-underline">License</a>
                </li>
            </ul>
            <h4 class="pt-8">Core Concepts</h4>
            <ul class="m-0 p-0 list-none">
                {#
                <li class="{% if entry.id == "/core/flextype" %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/core/flextype" class="no-underline">Flextype</a>
                </li>
                #}
                <li class="{% if entry.id == "/core/entries" %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/core/entries" class="no-underline">Entries</a>
                </li>
                {#
                <li class="{% if entry.id == "/core/plugins" %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/core/plugins" class="no-underline">Plugins</a>
                </li>
                #}
                <li class="{% if entry.id == "/core/parsers" %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/core/parsers" class="no-underline">Parsers</a>
                </li>
                <li class="{% if entry.id == "/core/serializers" %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/core/serializers" class="no-underline">Serializers</a>
                </li>
                <li class="{% if entry.id == "/core/registry" %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/core/registry" class="no-underline">Registry</a>
                </li>
            </ul>
            <h4 class="pt-8">Console</h4>
            <ul class="m-0 p-0 list-none">
                <li class="{% if entry.id == "/console/entries" %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/console/entries" class="no-underline">Entries</a>
                </li>
                <li class="{% if entry.id == "/console/tokens" %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/console/tokens" class="no-underline">Tokens</a>
                </li>
                <li class="{% if entry.id == "/console/cache" %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/console/cache" class="no-underline">Cache</a>
                </li>
            </ul>
            <h4 class="pt-8">Rest API</h4>
            <ul class="m-0 p-0 list-none">
                <li class="{% if entry.id == "/rest-api/introduction" %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/rest-api/introduction" class="no-underline">Introduction</a>
                </li>
                <li class="{% if entry.id == "/rest-api/entries" %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/rest-api/entries" class="no-underline">Entries</a>
                </li>
                <li class="{% if entry.id == "/rest-api/tokens" %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/rest-api/tokens" class="no-underline">Tokens</a>
                </li>
                <li class="{% if entry.id == "/rest-api/cache" %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/rest-api/cache" class="no-underline">Cache</a>
                </li>
                <li class="{% if entry.id == "/rest-api/registry" %}active{% endif %}">
                    <a href="{{ url() }}/flextype/documentation/rest-api/registry" class="no-underline">Registry</a>
                </li>
            </ul>
        </div>
        <div class="w-full lg:w-9/12">
            {% if entry.on_this_page %}
            <div class="w-full block relative">
                <div class="">
                    <div class="p-0 mb-10">
                        <div class="lg:flex">
                            <div class="w-full p-6 bg-white dark:bg-slate-900 lg:mr-2 border rounded-lg border-slate-900 dark:border-slate-500 plate-shadow">
                                <h3 class="text-xl font-bold pb-4 pt-0 mb-4 mt-0 p-0 border-b border-slate-900 dark:border-slate-500 flex items-center">
                                    Table of Contents
                                </h3>
                                <ul class="font-semibold">
                                {% for item in entry.on_this_page %}
                                <li>
                                    <a class="no-underline" href="#{{ item.link }}"><span class="mr-1">{{ loop.index }}.</span> {{ item.title|raw }}</a>
                                    {% set parent_index = loop.index %}
                                    {% if item.level2 %}
                                    <ul class="ml-4 mb-0">
                                        {% for item in item.level2 %}
                                        <li >
                                            <a class="no-underline text-sm" href="#{{ item.link }}"><span class="mr-1">{{ parent_index }}.{{ loop.index }}</span> {{ item.title|raw }}</a>
                                        </li>
                                        {% endfor %}
                                    </ul>
                                    {% endif %}
                                </li>
                                {% endfor %}
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
            {{ entry.content|replace({'&minus;': '-'})|shortcode|markdown|raw }}
        </div>
    </div>
</div>
{% endblock %}
